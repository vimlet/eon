<script>
  eon.element({

    name: "eon-swiper-slide",

    properties: {
      /*
        @property {Object} host
        @description Quick access to parent swiper element
      */
      host: {
        value: {},
      },
      /*
        @property {String} image
        @description Image source URL
      */
      image: {
        value: "",
        reflect: true
      }
    },
    functions: {
      /*
        @function setImage
        @description Add a slide background image
      */
      setImage: function () {
        var el = this;
        // Has image
        if (el.image) {
          var path = el.image;
          // Add swiper image style
          el.classList.add("eon-swiper-image");
          el.style.backgroundImage = "url(" + path + ")";
        }
      }
    },
    onInit: function () {
      var el = this;
      // Get swiper parent
      el.host = el.parentNode.classList.contains("eon-swiper-wrapper")
        ? el.parentNode.parentNode
        : el.parentNode;
      // Set image background
      el.setImage();
    },
    onTransformed: function () {
      var el = this;
      // Get swiper element
      var swiper = el.host;
      // Append the document fragment with the slide
      el.host._refs.wrapper.appendChild(el);
      // Create slide thumbnails and update wrapper translate properties
      el.host._append(el);
    }
  });
</script>