<template>
</template>

<script type="text/javascript">
  vcomet.element("vc-cell", {
    
    properties: {
      /*
      @property {string} value
      @description String to be inserted in a span
      */
      value: {
        value: "",
        reflect: true
      },
      /*
      @property {string} column
      @description Name of the column in which the cell is
      */
      column: {
        value: "",
        reflect: true
      },
      /*
      @property {string} type
      @description Cell type, it can be header or entry
      */
      type: {
        value: "entry",
        reflect: true
      }
    },

    privateFunctions: {
      /*
      @function generateContent
      @description Generates the content with the given value
      */
      generateContent: function() {

        var el = this;
        var cellContent = document.createElement("div");

        cellContent.classList.add("cellContent");

        if (el.value != undefined) {
          cellContent.innerHTML = el.value;
        }

        if (el.type == "header") {

          var headerCellIcon = document.createElement("i");

          el.classList.add("unselectable");

          headerCellIcon.classList.add("material-icons");
          headerCellIcon.classList.add("sortIcon");

          if (document.documentMode) {
            el._createCellContentStyleForIE(cellContent, headerCellIcon)
          }

          cellContent.appendChild(headerCellIcon);
        }

        el.appendChild(cellContent);

      },
      /*
      @function createCellContentStyleForIE
      @description CSS changes for the content on IE
      */
      createCellContentStyleForIE: function(cellContent, icon) {

        cellContent.style.position = "absolute";
        cellContent.style.left = "0";
        cellContent.style.top = "0";
        cellContent.style.right = "0";
        cellContent.style.bottom = "0";
        cellContent.style.display = "flex";
        cellContent.style.justifyContent = "center";
        cellContent.style.alignItems = "center";

        icon.style.position = "absolute";
        icon.style.top = "0";
        icon.style.bottom = "0"; 
        icon.style.display = "flex";
        icon.style.justifyContent = "center";
        icon.style.alignItems = "center";

      }
    },
    onRender: function() {

      this._generateContent();

    }
  });
</script>
